<div class="container">
  <ng-container *ngIf="!hasCustomer">
    <div class="error__container">
      <h2 class="error__title">Customer not found</h2>
      <p class="error__paragraph">
        Sorry, the customer you were looking for, hasn't been found.
      </p>

      <clapp-button
        [routerLink]="['/customers']"
        color="primary"
        size="small"
        type="button"
      >
        Go to customers
      </clapp-button>
    </div>
  </ng-container>
  <ng-container *ngIf="isLoading">
    <app-loader></app-loader>
  </ng-container>
  <div *ngIf="customer" class="customer">
    <div class="customer__header">
      <clapp-image-display
        [alt]="customer.name + ' profile image'"
        [src]="customer.picture || null || 'https://via.placeholder.com/500'"
        class="customer__image"
        type="thumbnail"
      >
      </clapp-image-display>
      <h2 class="customer__name">
        {{ customer.name }} {{ customer.lastname }}
      </h2>
      <span class="customer__tag">@{{ customer.username }}</span>
    </div>
    <div class="customer__contact">
      <h2 class="customer__subtitle">Contact Information</h2>
      <p class="customer__info">
        Email:
        <span class="customer__detail">{{ customer.email }}</span>
      </p>
      <p class="customer__info">
        Phone number:
        <span class="customer__detail">{{ customer.contactNumber }}</span>
      </p>
      <p class="customer__info">
        Favorite payment method:
        <span class="customer__detail">Payment</span>
      </p>
    </div>
    <div class="customer__actions">
      <clapp-button (click)="onClickBack()" plusIcon="ri-arrow-left-s-line">
        Go back
      </clapp-button>
      <clapp-button
        (click)="onClickDelete()"
        *ngIf="isAdmin"
        color="tertiary"
        plusIcon="ri-delete-bin-fill"
        [disabled]="isLoading"
      >
        Delete
      </clapp-button>
    </div>
  </div>
</div>
