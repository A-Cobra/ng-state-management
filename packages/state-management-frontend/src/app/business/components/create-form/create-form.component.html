<ng-container *ngIf="loader">
  <state-management-app-loader> </state-management-app-loader
></ng-container>
<div *ngIf="!loader" class="createForm" (ngSubmit)="onSubmit()">
  <h3>Create Business</h3>
  <div>
    <form [formGroup]="createForm">
      <div class="createForm__form-section-container">
        <h4>Profile</h4>
        <div class="createForm__input-container">
          <state-management-app-reactive-form-text-input-component
            [parentForm]="createForm"
            controlName="name"
            elementId="nameId"
            label="Name*"
            displayText="Please enter the business name"
            patternMessage="Only common characters allowed"
          ></state-management-app-reactive-form-text-input-component>
        </div>
        <div class="createForm__input-container">
          <state-management-app-reactive-form-text-input-component
            [parentForm]="createForm"
            controlName="email"
            elementId="emailId"
            label="Email*"
            displayText="Please enter an email"
            patternMessage="Email format is required"
          ></state-management-app-reactive-form-text-input-component>
        </div>
        <div class="createForm__input-container">
          <state-management-app-reactive-form-text-input-component
            [parentForm]="createForm"
            controlName="password"
            elementId="passwordId"
            label="Password*"
            displayText="Please enter an initial password"
            patternMessage="8 char min, at least 1 capital letter, 1 number and 1 symbol"
            inputType="password"
            [maxLength]="30"
          ></state-management-app-reactive-form-text-input-component>
        </div>
        <div class="createForm__select-container">
          <ng-container *ngIf="classification$ | async as classifications">
            <clapp-select
              formControlName="classification"
              label="Options Label"
              [displayLabel]="true"
              label="Classification*"
              inputName="classificationId"
              placeholder="Select Option"
              [pagination]="false"
              [hasFilter]="false"
            >
              <clapp-select-option
                #dropdown
                *ngFor="let classification of classifications"
                [key]="classification.name"
                [value]="classification.name"
              ></clapp-select-option> </clapp-select
          ></ng-container>
          <clapp-helper-text
            *ngIf="createForm.controls['classification'].errors"
            [textState]="
              createForm.controls['classification'].disabled
                ? 'disabled'
                : 'error'
            "
          >
            This field is required
          </clapp-helper-text>
        </div>
        <h4>Contact</h4>
        <div class="createForm__input-container">
          <state-management-app-reactive-form-text-input-component
            [parentForm]="createForm"
            controlName="address"
            elementId="addressId"
            label="Address*"
            displayText="Please enter the address"
            patternMessage=""
            inputType="text"
            [maxLength]="100"
          ></state-management-app-reactive-form-text-input-component>
        </div>
        <div class="createForm__input-container-double">
          <div class="individual-input">
            <state-management-app-reactive-form-text-input-component
              [parentForm]="createForm"
              controlName="longitude"
              elementId="longitudeId"
              label="Longitude*"
              displayText="Please enter longitude"
              patternMessage="Only longitude format"
              inputType="text"
              [maxLength]="9"
            ></state-management-app-reactive-form-text-input-component>
          </div>
          <div class="individual-input">
            <state-management-app-reactive-form-text-input-component
              [parentForm]="createForm"
              controlName="latitude"
              elementId="latitudeId"
              label="Latitude*"
              displayText="Please enter latitude"
              patternMessage="Only latitude format"
              inputType="text"
              [maxLength]="9"
            ></state-management-app-reactive-form-text-input-component>
          </div>
        </div>
        <div class="createForm__input-container">
          <state-management-app-reactive-form-text-input-component
            [parentForm]="createForm"
            controlName="contact"
            elementId="concatId"
            label="Contact number*"
            displayText="Please enter latitude"
            patternMessage="Only numbers allowed"
            inputType="text"
            [maxLength]="15"
          ></state-management-app-reactive-form-text-input-component>
        </div>
      </div>
      <div class="createForm__form-section-container">
        <h4>Add picture</h4>
        <div class="createForm__picture-input-container">
          <state-management-app-reactive-form-text-input-component
            [parentForm]="createForm"
            controlName="picture"
            elementId="pictureId"
            label="Picture"
            displayText='Please enter ".jpg" extension URL address'
            patternMessage='Only URL address with a ".jpg" extension allowed'
            inputType="text"
          ></state-management-app-reactive-form-text-input-component>
        </div>
        <div class="createForm__picture-container">
          <div>
            <clapp-image-display
              [src]="
                createForm.controls['picture'].value &&
                !createForm.controls['picture'].hasError('pattern')
                  ? createForm.controls['picture'].value
                  : 'assets/templateImage.png'
              "
              type="avatar"
              size="large"
              alt="Picture"
            ></clapp-image-display>
          </div>
        </div>
        <h4>Payment Information</h4>
        <div class="createForm__input-container">
          <state-management-app-reactive-form-text-input-component
            [parentForm]="createForm"
            controlName="bankAccountNumber"
            elementId="bankAccountNumberId"
            label="Bank account number"
            displayText=""
            patternMessage="Only numbers or common characters allowed"
            inputType="text"
            [maxLength]="20"
          ></state-management-app-reactive-form-text-input-component>
        </div>
        <div class="createForm__input-container-optional">
          <state-management-app-reactive-form-text-input-component
            [parentForm]="createForm"
            controlName="bankName"
            elementId="bankNameId"
            label="Bank name"
            displayText=""
            patternMessage="Only numbers or common characters allowed"
            inputType="text"
            [maxLength]="20"
          ></state-management-app-reactive-form-text-input-component>
        </div>
        <div class="createForm__select-container-optional">
          <clapp-select
            formControlName="bankAccountType"
            label="Options Label"
            [displayLabel]="true"
            label="Account type"
            inputName="bankAccountTypeId"
            placeholder="Select Option"
            [pagination]="false"
            [hasFilter]="false"
          >
            <clapp-select-option
              #dropdown
              *ngFor="let bankAccountType of bankAccountTypes"
              [key]="bankAccountType.name"
              [value]="bankAccountType.name"
              [title]="bankAccountType.description"
            ></clapp-select-option>
          </clapp-select>
        </div>
        <div class="createForm__input-container">
          <state-management-app-reactive-form-text-input-component
            [parentForm]="createForm"
            controlName="fullname"
            elementId="fullnameId"
            label="Fullname*"
            displayText=""
            patternMessage="Only common characters allowed"
            inputType="text"
            [maxLength]="50"
          ></state-management-app-reactive-form-text-input-component>
        </div>
        <div class="createForm__input-container">
          <state-management-app-reactive-form-text-input-component
            [parentForm]="createForm"
            controlName="documentId"
            elementId="documentIdId"
            label="Document ID*"
            displayText=""
            patternMessage="Only numbers allowed"
            inputType="text"
            [maxLength]="50"
          ></state-management-app-reactive-form-text-input-component>
        </div>
        <div class="createForm__buttons-container">
          <clapp-button
            color="secondary"
            plusIcon="ri-arrow-left-s-line"
            (click)="handleGoBack()"
            >Go back</clapp-button
          >
          <clapp-button
            plusIcon="ri-add-fill"
            [disabled]="createForm.invalid"
            (click)="onSubmit()"
          >
            Create</clapp-button
          >
        </div>
      </div>
    </form>
  </div>
</div>
