<div class="createForm">
  <h3>Create Business</h3>
  <div>
    <form [formGroup]="createForm">
      <div class="createForm__form-section-container">
        <h4>Profile</h4>
        <div class="createForm__input-container">
          <state-management-app-clapp-text-input-component
            [parentForm]="createForm"
            controlName="name"
            label="Name*"
            displayText="Please enter the business name"
            patternMessage="Only common characters allowed"
          ></state-management-app-clapp-text-input-component>
        </div>
        <div class="createForm__input-container">
          <state-management-app-clapp-text-input-component
            [parentForm]="createForm"
            controlName="email"
            label="Email*"
            displayText="Please enter an email"
            patternMessage="Email format is required"
          ></state-management-app-clapp-text-input-component>
        </div>
        <div class="createForm__input-container">
          <state-management-app-clapp-text-input-component
            [parentForm]="createForm"
            controlName="password"
            label="Password*"
            displayText="Please enter an initial password"
            patternMessage="8 char min, at least 1 capital letter, 1 number and 1 symbol"
            inputType="password"
            [maxLength]="30"
          ></state-management-app-clapp-text-input-component>
        </div>
        <div class="createForm__select-container">
          <clapp-select
            formControlName="classification"
            label="Options Label"
            [disabled]="false"
            [displayLabel]="true"
            label="Classification*"
            inputName="classificationId"
            placeholder="Select Option"
            [pagination]="false"
            [hasFilter]="false"
          >
            <clapp-select-option
              #dropdown
              *ngFor="let classification of classifications"
              [key]="classification.name"
              [value]="classification.name"
            ></clapp-select-option>
          </clapp-select>
          <clapp-helper-text
            *ngIf="createForm.controls['classification'].errors"
            [textState]="
              createForm.controls['classification'].disabled
                ? 'disabled'
                : 'error'
            "
          >
            This field is required
          </clapp-helper-text>
        </div>
        <h4>Contact</h4>
        <div class="createForm__input-container">
          <clapp-text-input
            #addressRef
            formControlName="address"
            [error]="
              false || createForm.controls['address'].hasError('required')
            "
            [success]="
              false || !createForm.controls['address'].hasError('required')
            "
            id="addressId"
            label="Address*"
            [maxLength]="100"
            name="address"
            type="text"
          ></clapp-text-input>
          <clapp-helper-text
            *ngIf="createForm.controls['address'].errors"
            [textState]="
              createForm.controls['address'].disabled ? 'disabled' : 'error'
            "
            >This field is required
          </clapp-helper-text>
        </div>
        <div class="createForm__input-container-double">
          <div class="individual-input">
            <clapp-text-input
              #longitudeRef
              formControlName="longitude"
              [error]="
                false ||
                createForm.controls['longitude'].hasError('required') ||
                createForm.controls['longitude'].hasError('pattern')
              "
              [success]="
                false ||
                !createForm.controls['longitude'].hasError('required') ||
                !createForm.controls['longitude'].hasError('pattern')
              "
              id="longitudeId"
              label="Longitude*"
              [maxLength]="10"
              name="longitude"
              type="text"
            ></clapp-text-input>
            <clapp-helper-text
              *ngIf="createForm.controls['longitude'].errors"
              [textState]="
                createForm.controls['longitude'].disabled ? 'disabled' : 'error'
              "
            >
              {{
                createForm.controls['longitude'].hasError('required')
                  ? 'This field is required'
                  : 'Only longitude format'
              }}
            </clapp-helper-text>
          </div>
          <div class="individual-input">
            <clapp-text-input
              #latitudeRef
              formControlName="latitude"
              [error]="
                false ||
                createForm.controls['latitude'].hasError('required') ||
                createForm.controls['latitude'].hasError('pattern')
              "
              [success]="
                false ||
                !createForm.controls['latitude'].hasError('required') ||
                !createForm.controls['latitude'].hasError('pattern')
              "
              id="latitudeId"
              label="Latitude*"
              [maxLength]="10"
              name="latitude"
              type="text"
            ></clapp-text-input>
            <clapp-helper-text
              *ngIf="createForm.controls['latitude'].errors"
              [textState]="
                createForm.controls['latitude'].disabled ? 'disabled' : 'error'
              "
            >
              {{
                createForm.controls['latitude'].hasError('required')
                  ? 'This field is required'
                  : 'Only latitude format'
              }}
            </clapp-helper-text>
          </div>
        </div>
        <div class="createForm__input-container">
          <clapp-text-input
            #contactRef
            formControlName="contact"
            [error]="
              false ||
              createForm.controls['contact'].hasError('required') ||
              createForm.controls['contact'].hasError('pattern')
            "
            [success]="
              false ||
              !createForm.controls['contact'].hasError('required') ||
              !createForm.controls['contact'].hasError('pattern')
            "
            id="contactId"
            label="Contact number*"
            [maxLength]="30"
            name="contact"
            type="text"
          ></clapp-text-input>
          <clapp-helper-text
            *ngIf="createForm.controls['contact'].errors"
            [textState]="
              createForm.controls['contact'].disabled ? 'disabled' : 'error'
            "
          >
            {{
              createForm.controls['contact'].hasError('required')
                ? 'This field is required'
                : 'Only numbers allowed'
            }}
          </clapp-helper-text>
        </div>
      </div>
      <div class="createForm__form-section-container">
        <h4>Add picture</h4>
        <div class="createForm__picture-input-container">
          <clapp-text-input
            #pictureRef
            formControlName="picture"
            [error]="
              false ||
              createForm.controls['picture'].hasError('required') ||
              createForm.controls['picture'].hasError('pattern')
            "
            [success]="
              false ||
              !createForm.controls['picture'].hasError('required') ||
              !createForm.controls['picture'].hasError('pattern')
            "
            id="pictureId"
            label="Picture"
            name="picture"
            type="text"
          ></clapp-text-input>
          <clapp-helper-text
            *ngIf="createForm.controls['picture'].errors"
            [textState]="
              createForm.controls['picture'].disabled &&
              !createForm.controls['picture'].hasError('pattern')
                ? 'disabled'
                : 'error'
            "
          >
            {{
              createForm.controls['picture'].hasError('required')
                ? 'This field is required'
                : 'Only URL with a ".jpg" extension allowed'
            }}
          </clapp-helper-text>
        </div>
        <div class="createForm__picture-container">
          <div>
            <clapp-image-display
              [src]="
                pictureRef.value &&
                !createForm.controls['picture'].hasError('pattern')
                  ? pictureRef.value
                  : 'assets/templateImage.png'
              "
              type="avatar"
              size="large"
              alt="Picture"
            ></clapp-image-display>
          </div>
        </div>
        <h4>Payment Information</h4>
        <div class="createForm__input-container">
          <clapp-text-input
            #bankAccountNumberRef
            formControlName="bankAccountNumber"
            [error]="
              false ||
              createForm.controls['bankAccountNumber'].hasError('required') ||
              createForm.controls['bankAccountNumber'].hasError('pattern')
            "
            [success]="
              false ||
              !createForm.controls['bankAccountNumber'].hasError('required') ||
              !createForm.controls['bankAccountNumber'].hasError('pattern')
            "
            id="bankAccountNumberId"
            label="Bank account number*"
            [maxLength]="20"
            name="bankAccountNumber"
            type="text"
          ></clapp-text-input>
          <clapp-helper-text
            *ngIf="createForm.controls['bankAccountNumber'].errors"
            [textState]="
              createForm.controls['bankAccountNumber'].disabled
                ? 'disabled'
                : 'error'
            "
          >
            {{
              createForm.controls['bankAccountNumber'].hasError('required')
                ? 'This field is required'
                : 'Only numbers or common characters allowed'
            }}
          </clapp-helper-text>
        </div>
        <div class="createForm__input-container-optional">
          <clapp-text-input
            #bankNameRef
            formControlName="bankName"
            [error]="
              false ||
              createForm.controls['bankName'].hasError('required') ||
              createForm.controls['bankName'].hasError('pattern')
            "
            [success]="
              false ||
              !createForm.controls['bankName'].hasError('required') ||
              !createForm.controls['bankName'].hasError('pattern')
            "
            id="bankNameId"
            label="Bank name"
            [maxLength]="20"
            name="bankName"
            type="text"
          ></clapp-text-input>
        </div>
        <div class="createForm__select-container-optional">
          <clapp-select
            formControlName="bankAccountType"
            label="Options Label"
            [disabled]="false"
            [displayLabel]="true"
            label="Account type"
            inputName="bankAccountTypeId"
            placeholder="Select Option"
            [pagination]="false"
            [hasFilter]="false"
          >
            <clapp-select-option
              #dropdown
              *ngFor="let bankAccountType of bankAccountTypes"
              [key]="bankAccountType.name"
              [value]="bankAccountType.name"
              [title]="bankAccountType.description"
            ></clapp-select-option>
          </clapp-select>
        </div>
        <div class="createForm__input-container">
          <clapp-text-input
            #fullnameRef
            formControlName="fullname"
            [error]="
              false ||
              createForm.controls['fullname'].hasError('required') ||
              createForm.controls['fullname'].hasError('pattern')
            "
            [success]="
              false ||
              !createForm.controls['fullname'].hasError('required') ||
              !createForm.controls['fullname'].hasError('pattern')
            "
            id="fullnameId"
            label="Fullname*"
            [maxLength]="50"
            name="fullname"
            type="text"
          ></clapp-text-input>
          <clapp-helper-text
            *ngIf="createForm.controls['fullname'].errors"
            [textState]="
              createForm.controls['fullname'].disabled ? 'disabled' : 'error'
            "
          >
            {{
              createForm.controls['fullname'].hasError('required')
                ? 'This field is required'
                : 'Only common characters allowed'
            }}
          </clapp-helper-text>
        </div>
        <div class="createForm__input-container">
          <clapp-text-input
            #documentIdRef
            formControlName="documentId"
            [error]="
              false ||
              createForm.controls['documentId'].hasError('required') ||
              createForm.controls['documentId'].hasError('pattern')
            "
            [success]="
              false ||
              !createForm.controls['documentId'].hasError('required') ||
              !createForm.controls['documentId'].hasError('pattern')
            "
            id="documentIdId"
            label="Document ID*"
            [maxLength]="50"
            name="documentId"
            type="text"
          ></clapp-text-input>
          <clapp-helper-text
            *ngIf="createForm.controls['documentId'].errors"
            [textState]="
              createForm.controls['documentId'].disabled ? 'disabled' : 'error'
            "
          >
            {{
              createForm.controls['documentId'].hasError('required')
                ? 'This field is required'
                : 'Only numbers allowed'
            }}
          </clapp-helper-text>
        </div>
        <div class="createForm__buttons-container">
          <clapp-button
            color="secondary"
            plusIcon="ri-arrow-left-s-line"
            (click)="handleCancel()"
            >Go back</clapp-button
          >
          <clapp-button
            plusIcon="ri-add-fill"
            [disabled]="createForm.invalid"
            (click)="handleSubmit()"
          >
            Create</clapp-button
          >
        </div>
        <!--<pre>IS INVALID? {{ createForm.invalid | json }}</pre>-->
        <pre>FORM: {{ createForm.value | json }}</pre>

        >
      </div>
    </form>
  </div>
</div>
