<p>business-edit works!</p>
<div class="form-wrapper">
  <form class="form" [formGroup]="businessFormEdit">
    <state-management-app-business-edit-display-name-input
      [parentForm]="businessFormEdit"
      [hasError]="hasError"
      displayText="Please enter the display name"
      label="Display Name"
    ></state-management-app-business-edit-display-name-input>
    <state-management-app-business-edit-display-name-input
      [parentForm]="businessFormEdit"
      [hasError]="hasError"
      controlName="businessName"
      displayText="Please enter the business name"
      label="Business Name"
    ></state-management-app-business-edit-display-name-input>
    <h2 style="color: red">WORKS</h2>
    <!-- THE PREVIOUS CODE WORKS -->

    <div class="form__group">
      <clapp-text-input
        #businessName
        formControlName="businessName"
        autocomplete=""
        [error]="
          (false || !!businessFormEdit.controls['businessName'].errors) &&
          businessFormEdit.controls['businessName'].touched
        "
        [success]="
          (false || !businessFormEdit.controls['businessName'].errors) &&
          businessFormEdit.controls['businessName'].touched
        "
        id="displayName"
        label="Display Name"
        type="text"
      ></clapp-text-input>
      <!-- Information Text  -->
      <clapp-helper-text
        *ngIf="
          businessFormEdit.controls['displayName'].untouched &&
          businessFormEdit.controls['displayName'].value === ''
        "
        [textState]="
          businessFormEdit.controls['displayName'].disabled
            ? 'disabled'
            : 'default'
        "
      >
        Please enter the display name (can not be empty)
      </clapp-helper-text>
      <!-- Error Text  -->
      <div
        class="error"
        *ngIf="
          !!businessFormEdit.controls['displayName'].errors &&
          businessFormEdit.controls['displayName'].touched
        "
      >
        <clapp-helper-text
          [textState]="
            businessFormEdit.controls['displayName'].disabled
              ? 'disabled'
              : 'error'
          "
        >
          {{
            hasError('displayName', 'required')
              ? 'This field is required'
              : 'Default'
          }}
        </clapp-helper-text>
      </div>
    </div>

    <div class="form__group">
      <label for="business-name">Business Name</label>
      <input type="text" id="business-name" formControlName="businessName" />
    </div>
    <div class="form__group">
      <label for="business-classification">Business Classification</label>
      <select
        name=""
        id="business-classification"
        formControlName="businessClassification"
      >
        <option value="" selected="true" disabled="true">Classification</option>
        <option value="1">Classification 1</option>
      </select>
    </div>
    <div class="form__group">
      <label for="contact-number">Contact Number</label>
      <input
        type="text"
        id="contact-number"
        formControlName="contactPhoneNumber"
      />
    </div>
    <div class="form__group">
      <label for="contact-email">Contact Email</label>
      <input type="text" id="contact-email" formControlName="contactEmail" />
    </div>
    <div class="form__group">
      <label for="contact-address">Contact Address</label>
      <input
        type="text"
        id="contact-address"
        formControlName="contactAddress"
      />
    </div>
    <div class="form__group">
      <label for="longitude">Longitude</label>
      <input type="text" id="longitude" formControlName="longitude" />
    </div>
    <div class="form__group">
      <label for="latitude">Latitude</label>
      <input type="text" id="latitude" formControlName="latitude" />
    </div>
    <div class="buttons">
      <button *ngIf="!editing; else saveButton" (click)="onEditClick()">
        Edit
      </button>
      <ng-template #saveButton>
        <button (click)="onSaveClick()">Save</button>
      </ng-template>
      <button>Delete</button>
    </div>
  </form>
</div>

<pre>
  <h1>Errors</h1>
  {{ businessFormEdit.get('displayName')?.errors | json }}
</pre>

<pre>{{ businessFormEdit.value | json }}</pre>
