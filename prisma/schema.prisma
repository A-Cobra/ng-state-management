// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id String @id @default(uuid())

  email String @unique

  username String

  name String

  lastname String

  picture String?

  password String

  isLoggedIn Boolean @default(false)

  role String @default("client")

  refreshToken String?

  business Business_HQ? @relation(fields: [business_HQId], references: [id])

  business_HQId String?
}

model Product {
  idProduct String @id @default(uuid())
  productName String @db.VarChar(50)
  description String @db.VarChar(150)
  price Decimal @db.Decimal(10,2)
  discount Decimal @db.Decimal(3,2)
  stock Int
  status String @db.VarChar(25)
}

model Business_HQ {
  id String @id @default(uuid())

  businesName String @unique

  businessPicture String?

  rating Int?

  contactEmail String @unique

  contactPhoneNumber String @unique

  longitude String?

  latitude String?

  contactAddress String

  approvedRegistration Boolean? @default(false)

  classifications BusinessClassification[]

  userId String @unique

  User   User[]
}

model BusinessClassification {
  id String @id @default(uuid())

  name String

  description String

  businesses Business_HQ[]
}
